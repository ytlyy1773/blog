import{d as B,a2 as A,g as _,h as r,j as P,O as N,x as k,b as S,c as h,k as t,Z as b,N as C,e as $,a3 as T,o as m,p as z,m as M,_ as V,C as H,H as q,F as L,D as O,Q as U,a4 as J}from"./chunks/framework.3deaef37.js";const y=d=>(z("data-v-69afb9ed"),d=d(),M(),d),Q={class:"show-img-cont"},R=["onClick"],Z=y(()=>t("div",{class:"icon"},"✕",-1)),G=[Z],K=["onClick"],W=y(()=>t("div",{class:"icon icon-v"},"⟳",-1)),X=[W],Y=["onClick"],ee=y(()=>t("div",{class:"icon"},"◀︎",-1)),ae=[ee],te=["onClick"],se=y(()=>t("div",{class:"icon"},"▶︎",-1)),oe=[se],ne=["src"],le=B({__name:"preview",props:{modelValue:{type:Boolean,default:!1},index:{type:Number,default:0},list:{type:Array,required:!0},blankClose:{type:Boolean,default:!1},zIndex:{type:Number,default:3001}},emits:["update:modelValue"],setup(d,{emit:g}){const s=d;A(e=>({"48cad6e8":p.value,"5b774eba":i.value,dbadf382:f.value}));const c=_(()=>{var e;return(e=s.list)!=null&&e.length?s.list:[]}),v=r(0),a=r(0),o=r(600),i=_(()=>`${o.value}px`),n=r(0),f=_(()=>`${n.value*90}deg`),p=_(()=>s.zIndex);P(()=>{N(()=>{document.addEventListener("keyup",e=>{e.keyCode===27&&u()}),document.addEventListener("mousewheel",e=>{if(e.wheelDelta<0){const l=o.value+Math.abs(e.wheelDelta);o.value=l>1e3?1e3:l}else{const l=o.value-Math.abs(e.wheelDelta);o.value=l<600?600:l}})})}),k(()=>s.index,()=>{a.value=s.index},{immediate:!0}),k(()=>s.modelValue,e=>{e===!0?document.body.setAttribute("class","jw-body-hidden"):document.body.removeAttribute("jw-body-hidden")},{immediate:!0});function u(){w(),g("update:modelValue",!1)}function E(e){e.stopPropagation(),s.blankClose&&u()}function F(e){e.stopPropagation(),a.value!==0&&(w(),a.value>=1&&(a.value=a.value-1))}function I(e){e.stopPropagation(),a.value!==c.value.length&&(w(),a.value<c.value.length-1&&(a.value=a.value+1))}function w(){n.value=0,o.value=600}function j(){n.value=n.value===3?0:++n.value}function D(e){v.value=e}return(e,l)=>{var x;return m(),S(T,{to:"body"},[d.modelValue?(m(),h("div",{key:0,class:"show-img-box",onClick:E},[t("div",Q,[t("div",{class:"show-img-close vp-dja",onClick:b(u,["stop"])},G,8,R),t("div",{class:"show-img-rotate vp-dja",onClick:b(j,["stop"])},X,8,K),t("div",{style:C({cursor:a.value===0?"not-allowed":"pointer"}),class:"show-img-left vp-dja",onClick:b(F,["stop"])},ae,12,Y),t("div",{style:C({cursor:a.value===c.value.length-1?"not-allowed":"pointer"}),class:"show-img-right vp-dja",onClick:b(I,["stop"])},oe,12,te),t("img",{class:"show-img-img",src:(x=c.value)==null?void 0:x[a.value],onClick:l[0]||(l[0]=b(ue=>D(a.value),["stop"]))},null,8,ne)])])):$("",!0)])}}});const de=V(le,[["__scopeId","data-v-69afb9ed"]]);const ce=U(`<h2 id="使用" tabindex="-1" data-v-69d7ce8b>使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;" data-v-69d7ce8b>​</a></h2><div class="info custom-block" data-v-69d7ce8b><p class="custom-block-title" data-v-69d7ce8b>代码</p><div class="language-js vp-adaptive-theme" data-v-69d7ce8b><button title="Copy Code" class="copy" data-v-69d7ce8b></button><span class="lang" data-v-69d7ce8b>js</span><pre class="shiki github-dark vp-code-dark" data-v-69d7ce8b><code data-v-69d7ce8b><span class="line" data-v-69d7ce8b><span style="color:#F97583;" data-v-69d7ce8b>import</span><span style="color:#E1E4E8;" data-v-69d7ce8b> preview </span><span style="color:#F97583;" data-v-69d7ce8b>from</span><span style="color:#E1E4E8;" data-v-69d7ce8b> </span><span style="color:#9ECBFF;" data-v-69d7ce8b>&#39;./preview.vue&#39;</span></span>
<span class="line" data-v-69d7ce8b></span>
<span class="line" data-v-69d7ce8b><span style="color:#E1E4E8;" data-v-69d7ce8b>&lt;</span><span style="color:#85E89D;" data-v-69d7ce8b>preview</span><span style="color:#E1E4E8;" data-v-69d7ce8b> </span><span style="color:#B392F0;" data-v-69d7ce8b>v-model</span><span style="color:#F97583;" data-v-69d7ce8b>=</span><span style="color:#9ECBFF;" data-v-69d7ce8b>&quot;show&quot;</span><span style="color:#E1E4E8;" data-v-69d7ce8b> </span><span style="color:#FDAEB7;font-style:italic;" data-v-69d7ce8b>:index=&quot;index&quot;</span><span style="color:#E1E4E8;" data-v-69d7ce8b> </span><span style="color:#FDAEB7;font-style:italic;" data-v-69d7ce8b>:list=&quot;list&quot;</span><span style="color:#E1E4E8;" data-v-69d7ce8b> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light" data-v-69d7ce8b><code data-v-69d7ce8b><span class="line" data-v-69d7ce8b><span style="color:#D73A49;" data-v-69d7ce8b>import</span><span style="color:#24292E;" data-v-69d7ce8b> preview </span><span style="color:#D73A49;" data-v-69d7ce8b>from</span><span style="color:#24292E;" data-v-69d7ce8b> </span><span style="color:#032F62;" data-v-69d7ce8b>&#39;./preview.vue&#39;</span></span>
<span class="line" data-v-69d7ce8b></span>
<span class="line" data-v-69d7ce8b><span style="color:#24292E;" data-v-69d7ce8b>&lt;</span><span style="color:#22863A;" data-v-69d7ce8b>preview</span><span style="color:#24292E;" data-v-69d7ce8b> </span><span style="color:#6F42C1;" data-v-69d7ce8b>v-model</span><span style="color:#D73A49;" data-v-69d7ce8b>=</span><span style="color:#032F62;" data-v-69d7ce8b>&quot;show&quot;</span><span style="color:#24292E;" data-v-69d7ce8b> </span><span style="color:#B31D28;font-style:italic;" data-v-69d7ce8b>:index=&quot;index&quot;</span><span style="color:#24292E;" data-v-69d7ce8b> </span><span style="color:#B31D28;font-style:italic;" data-v-69d7ce8b>:list=&quot;list&quot;</span><span style="color:#24292E;" data-v-69d7ce8b> /&gt;</span></span></code></pre></div></div><h2 id="示例" tabindex="-1" data-v-69d7ce8b>示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;" data-v-69d7ce8b>​</a></h2>`,3),ie={class:"img-box"},pe=["src","onClick"],_e=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"web/vue/preview/index.md","filePath":"web/vue/preview/index.md"}'),re={name:"web/vue/preview/index.md"},ve=Object.assign(re,{setup(d){const{proxy:g}=J(),s=["pc/wegame/luban.jpg","pc/wegame/juzi.jpg","pc/wegame/yunying.jpg"],c=_(()=>s.map(i=>g.$filterImgUrl(i))),v=r(!1),a=r(0);function o(i){a.value=i,v.value=!0}return(i,n)=>{const f=H("c-title");return m(),h("div",null,[q(f,{title:"封装图片预览功能"}),ce,t("div",ie,[(m(!0),h(L,null,O(c.value,(p,u)=>(m(),h("img",{key:p,class:"img",src:p,alt:"",onClick:E=>o(u)},null,8,pe))),128))]),q(de,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=p=>v.value=p),index:a.value,list:c.value},null,8,["modelValue","index","list"])])}}}),me=V(ve,[["__scopeId","data-v-69d7ce8b"]]);export{_e as __pageData,me as default};
